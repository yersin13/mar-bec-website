/* ===========================
   Mar-Bec Services – Scoped, Theme-aware (fix white titles)
   =========================== */

/* 1) Scope ALL tokens to the services wrapper to avoid clashing with global tokens */
.svc-wrapper {
  /* derive from global theme tokens */
  --svc-bg:        var(--surface,   #f7f9fc);
  --svc-bg-alt:    var(--surface-2, #f2f6fb);
  --svc-ink:       var(--text,      #012a4a);          /* <-- dark text on light */
  --svc-muted:     #2f435a;
  --svc-line:      var(--border,    #e6eef6);

  --svc-brand:     var(--accent,    #014f86);          /* local brand = accent */
  --svc-brand-rgb: var(--brand-rgb, 1,42,74);

  --svc-chip:      var(--surface-2, #e8f2fb);
  --svc-chip-line: #cfe3f6;

  --svc-shadow-sm: 0 2px 8px rgba(0,0,0,.06);
  --svc-shadow-md: 0 8px 20px rgba(0,0,0,.09);

  --svc-r-xl: 28px;
  --svc-r-lg: 20px;
  --svc-r-sm: 14px;

  --svc-content-w: 1200px;
  --sticky-offset: 72px; /* height of fixed nav on small screens */

  background: var(--svc-bg);
  color: var(--svc-ink);
  font-family: 'Segoe UI','Open Sans',system-ui,-apple-system,sans-serif;
}

/* common containers */
.svc-hero-inner,
.svc-section,
.svc-cta-inner,
.svc-toc-inner {
  max-width: var(--svc-content-w);
  margin-inline: auto;
}

/* ===========================
   HERO
   =========================== */
.svc-hero{
  position: relative;
  min-height: calc(90vh - var(--nav-h, 72px));
  display: grid;
  place-items: center;
  place-content: center;
  text-align: center;
  padding: 4rem 1.25rem;
  color: #fff;
  background-image:
    linear-gradient(
      rgba(var(--svc-brand-rgb), .62),
      rgba(var(--svc-brand-rgb), .62)
    ),
    url('/assets/bubbles.png');
  background-size: cover;
  background-position: center;
  overflow: hidden;
}
.svc-hero > * { max-width: 1100px; width: 100%; margin: 0 auto; }
.svc-hero h1{ font-size: clamp(2.2rem, 4.8vw, 3.1rem); margin: 0 0 .6rem; }
.svc-hero-sub{
  font-size: clamp(1.04rem, 2vw, 1.2rem);
  color: #eaf3fa;
  line-height: 1.7;
  margin: 0 auto 1.25rem;
  max-width: 820px;
}
.btn-primary{
  display: inline-block;
  background: #fff;
  color: var(--svc-ink);
  font-weight: 700;
  padding: .9rem 1.15rem;
  border-radius: 12px;
  text-decoration: none;
  box-shadow: 0 6px 16px rgba(0,0,0,.15);
  transition: transform .15s ease, filter .15s ease;
}
.btn-primary:hover{ filter: brightness(1.05); transform: translateY(-1px); }
@media (max-width: 768px){
  .svc-hero{ min-height: 86svh; padding: 4.5rem 1rem 3rem; }
}

/* ===========================
   Sticky mini-nav
   =========================== */
.svc-toc{
  position:sticky; top:0; z-index:10;
  background:#fff; border-bottom:1px solid var(--svc-line);
  backdrop-filter:saturate(120%) blur(2px)
}
.svc-toc-inner{display:flex;gap:.6rem;align-items:center;padding:.75rem 1rem;overflow-x:auto}
.svc-chip{
  border:1px solid var(--svc-chip-line);
  background:var(--svc-chip);
  border-radius:999px;
  padding:.55rem .9rem;
  font-weight:600; font-size:.95rem;
  white-space:nowrap; cursor:pointer
}
.svc-chip.active{
  background:#fff; border-color:#b8d5f5; box-shadow:var(--svc-shadow-sm)
}

/* ===========================
   SERVICES
   =========================== */
.svc-section{padding:2.6rem 1.25rem 3.4rem;display:grid;gap:2.2rem}

/* subtle striped blocks */
.svc-section > .svc-block:nth-child(odd){
  background:var(--svc-bg-alt);
  border-radius:var(--svc-r-xl);
  box-shadow:inset 0 0 0 1px var(--svc-line);
  padding:1.4rem
}

/* grid rows (desktop) */
.svc-block{
  display:grid; grid-template-columns:repeat(12,1fr); gap:2rem;
  align-items:start; grid-auto-flow:dense;
  scroll-margin-top:calc(var(--sticky-offset) + 16px);
}
.svc-block > .svc-text, .svc-block > .svc-image{ grid-row:1; }
.svc-block .svc-text{ grid-column:1 / span 6 }
.svc-block .svc-image{ grid-column:7 / span 6 }
.svc-block.reverse .svc-text{ grid-column:7 / span 6 }
.svc-block.reverse .svc-image{ grid-column:1 / span 6 }

/* text */
.svc-title{
  font-size:clamp(1.6rem,3vw,2.05rem);
  margin:0 0 .55rem;
  color: var(--svc-ink);            /* <-- DARK now, not global --ink */
  letter-spacing:.2px
}
.svc-desc{  font-size:1.06rem; line-height:1.75; color:var(--svc-muted); margin:0 0 1rem; max-width:62ch }
.svc-list{  list-style:none; padding:0; margin:0 0 1rem }
.svc-list li{ position:relative; padding-left:1.5rem; margin:.45rem 0; color:#33465b }
.svc-list li::before{ content:"✔"; position:absolute; left:0; top:0; color:var(--svc-brand); font-weight:700 }
.svc-benefits{ color:#465b73; margin:.3rem 0 .6rem; font-style:italic }
.svc-cta-text{ color:#0a66c2; font-weight:600; margin:0 }

/* image */
.svc-image{ border-radius:var(--svc-r-lg); overflow:hidden; box-shadow:var(--svc-shadow-md) }
.svc-image img,.svc-img{ display:block; width:100%; height:auto; object-fit:cover; aspect-ratio:16/9 }

/* CTA */
.svc-cta{
  position:relative;
  background-image:
    linear-gradient(
      rgba(var(--svc-brand-rgb), .62),
      rgba(var(--svc-brand-rgb), .62)
    ),
    url('/assets/bubbles.png');
  background-size:cover; background-position:center;
  padding:5rem 1.25rem; color:#fff; text-align:center;
  border-top:1px solid rgba(255,255,255,.08); margin-top:1rem
}
.svc-cta-inner{ max-width:760px; margin:0 auto }
.svc-cta-inner h2{ font-size:clamp(1.9rem,4vw,2.4rem); margin:0 0 1rem }
.svc-cta-inner p{  font-size:1.08rem; line-height:1.7; color:#f2f9ff; margin:0 0 1.5rem }

/* motion */
@media (prefers-reduced-motion:no-preference){
  .svc-block{opacity:0;transform:translateY(12px);animation:svcFade .45s ease forwards}
  .svc-block:nth-child(2){animation-delay:.05s}
  .svc-block:nth-child(3){animation-delay:.1s}
  .svc-block:nth-child(4){animation-delay:.15s}
  .svc-block:nth-child(5){animation-delay:.2s}
  @keyframes svcFade{to{opacity:1;transform:none}}
}

/* responsive */
@media (max-width:980px){
  .svc-block,
  .svc-block.reverse{grid-template-columns:1fr;gap:1rem;grid-auto-flow:row}
  .svc-block > .svc-text,
  .svc-block > .svc-image{grid-row:auto}
  .svc-block .svc-text,
  .svc-block .svc-image,
  .svc-block.reverse .svc-text,
  .svc-block.reverse .svc-image{grid-column:1 / -1}

  .svc-image{border-radius:var(--svc-r-sm); box-shadow:var(--svc-shadow-sm)}
  .svc-image img,.svc-img{height:auto; aspect-ratio:4/3; object-fit:cover}

  .svc-section > .svc-block:nth-child(odd){padding:1rem}
  .svc-wrapper{--sticky-offset:84px}
}
@media (max-width:640px){
  .svc-hero{min-height:60vh}
}
